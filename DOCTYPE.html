<!DOCTYPE html>
<html lang="en-us">

<head>
    <link rel="stylesheet" type="text/css" href="assets/css/reset.css">
    <meta charset="UTF-8">
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css" integrity="sha384-MCw98/SFnGE8fJT3GXwEOngsV7Zt27NXFoaoApmYm81iuXoPkFOJwJ8ERdknLPMO" crossorigin="anonymous">
    <link rel="stylesheet" type="text/css" href="assets/css/style.css">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
    <script src="https://www.gstatic.com/firebasejs/5.5.0/firebase.js"></script>

<!-- I'm getting this message in the console but I'm not sure how to fix it. Still works though. -->
<!-- It looks like you're using the development build of the Firebase JS SDK.
When deploying Firebase apps to production, it is advisable to only import
the individual SDK components you intend to use.

For the CDN builds, these are available in the following manner
(replace <PACKAGE> with the name of a component - i.e. auth, database, etc):

https://www.gstatic.com/firebasejs/5.0.0/firebase-<PACKAGE>.js -->
    
    <title>Train Scheduler</title>
</head>

<body id="body">

    <div class="jumbotron jumbotron-fluid">
        <div class="container">
            <h1 class="display-4">Train Scheduler</h1>
            <p class="lead">A webpage to schedule trains.</p>
        </div>
    </div>

    <div class="panel panel-default">
        <div class="panel-heading">
            <h3 class="panel-title">Current Train Schedule</h3>
        </div>
        <div class="panel-body">
            <table class="table">
                <thead>
                    <tr>
                        <th scope="col" id="form-name">Train Name</th>
                        <th scope="col" id="form-dest">Destination</th>
                        <th scope="col" id="form-freq">Frequency (min)</th>
                        <th scope="col" id="form-next">Next Arrival</th>
                        <th scope="col" id="form-away">Minutes Away</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <th scope="row">Trenton Express</th>
                        <td>Trenton</td>
                        <td>25</td>
                        <td>05:35 PM</td>
                        <td>10</td>
                    </tr>
                </tbody>
            </table>
        </div>
    </div>

    <div class="panel panel-default">
        <div class="panel-heading">
            <h3 class="panel-title">Add Train</h3>
        </div>
        <div class="panel-body">
            <form>
                <div class="form-group">
                    <label for="formGroupExampleInput">Train Name</label>
                    <input type="text" class="form-control" id="name-input">
                </div>
                <div class="form-group">
                    <label for="formGroupExampleInput">Destination</label>
                    <input type="text" class="form-control" id="dest-input">
                </div>
                <div class="form-group">
                    <label for="formGroupExampleInput">First Train Time (HH:mm - military time)</label>
                    <input type="text" class="form-control" id="time-input">
                </div>
                <div class="form-group">
                    <label for="formGroupExampleInput">Frequency (min)</label>
                    <input type="text" class="form-control" id="freq-input">
                </div>
                <button type="submit" class="btn btn-primary">Submit</button>
            </form>
        </div>
    </div>

</body>

</html>

<script>
$(document).ready(function () {
// ------------------------CALL FIREBASE------------------------

var config = {
    
  };

firebase.initializeApp(config);

var database = firebase.database();

var name;
var destination;
var time;
var frequency;

// ------------------------STORE INFORMATION IN FIREBASE ON SUBMIT------------------------
$(".btn").on("click", function (event) {
    event.preventDefault();

    var name = $("#name-input").val().trim();
    var destination = $("#dest-input").val().trim();
    var time = $("#time-input").val().trim();
    var frequency = $("#freq-input").val().trim();

    database.ref().set({
        fireName: name,
        fireDest: destination,
        fireTime: time,
        fireFreq: frequency
    })
});

// ------------------------ADD ROW TO TABLE------------------------


// ------------------------SNAPSHOT------------------------
database.ref().on("value", function(snapshot) {
    console.log(snapshot.val());

}, function (errorObject) {
    console.log("The read failed: " + errorObject.code);
});

// ------------------------------------------------
});
</script>